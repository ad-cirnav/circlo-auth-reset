<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Reset password</title></head>
<body>
  <h1>Set a new password</h1>
  <form id="form"><input id="pw" type="password" placeholder="New password" required /><button type="submit">Update</button></form>
  <pre id="msg"></pre>

  <script src="https://esm.sh/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = https://llmhxqkzoiacbfhmrnvv.supabase.co;
    const SUPABASE_ANON_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsbWh4cWt6b2lhY2JmaG1ybnZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NDMwMTMsImV4cCI6MjA3MDIxOTAxM30.2r0JMKT9-o0ZNrhIHBuxeC0n4h-zBAtBZijjVB1RzIw;
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const msg = document.getElementById('msg');
    supabase.auth.onAuthStateChange((event) => {
      if (event === 'PASSWORD_RECOVERY') msg.textContent = 'Token verified. Enter a new password and submit.';
    });

    document.getElementById('form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const { error } = await supabase.auth.updateUser({ password: document.getElementById('pw').value });
      msg.textContent = error ? ('Error: ' + error.message) : 'Password updated. You can close this tab.';
    });
  </script>
</body></html>
